<!DOCTYPE html>
<html lang="pt-br">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>First Online Game - Seguindo um tutorial</title>

   <style>
      #screen {
         border: 10px solid #ccc;
         image-rendering: pixelated;
         image-rendering: crisp-edges;
         image-rendering: -moz-crisp-edges;
         width: 400px;
         height: 400px;
         
      }
   </style>

</head>
<body>
   <canvas id="screen" width="10" height="10"></canvas>

   <script type="module">
      import createKeyboardListener from './keyboard-listener.js'
      import createGame from './game.js'
      import renderScreen from './render-screen.js'

      const game = createGame()
      const keyboardListener = createKeyboardListener(document)
      keyboardListener.subscribe(game.movePlayer)
      
      game.addPlayer({playerId: 'player1',playerX: 0, playerY: 0})
      game.addFruit({fruitId: 'fruit22', fruitX: 6, fruitY: 3})
      game.addFruit({fruitId: 'fruit23', fruitX: 2, fruitY: 9})
      
      const screen = document.getElementById('screen')
      renderScreen(screen, game, requestAnimationFrame)

   </script>
</body>
</html>